## 本格運用前に解消すべきダミー実装チェックリスト（PR順序版）

### PR1. モデル/スキーマの確定と公開（基盤）
- [x] `src/backend/models/*` のプレースホルダを確定版へ更新
- [x] 厳密な pydantic バリデーションとスキーマ版管理
- [x] OpenAPI ドキュメントの整備（例/制約/エラー）

### PR2. エンドポイント/ルータの確定（I/F固定）
- [x] `GET /api/word` の扱いを決定（仕様確定して実装 or 廃止）
- [x] `POST /api/word/pack` の入出力スキーマを固定
- [x] 再生成スコープの挙動をAPI仕様化（差分適用は後続PRで実装）

### PR3. プロバイダ/RAG の本番化（導入のみ・フラグで無効化可）
- [x] 埋め込み/LLM プロバイダ選定、鍵管理、レート制御、監視/課金管理
- [x] ベクトルストアのスキーマ/コレクション設計（`word_snippets`/`domain_terms`）
- [x] 取得→前処理→インデクス投入のパイプラインとCI/スケジューラ連携
- [x] 近傍クエリの再試行/タイムアウト/フォールバックの標準化

### PR4. LangGraph フローの本実装（RAG+LLM統合）
- [x] WordPackFlow（`flows/word_pack.py`）の実装（RAG+LLM）
- [x] 再生成スコープ（全体/例文/コロケ）の差分再生成
- [x] `citations`/`confidence` の算出と一貫した管理
- [x] ReadingAssistFlow：構文/用語抽出/要約/注釈の実装
- [x] FeedbackFlow：文法/語法/スタイル検出と修正提案の実装
- [x] 各フローのタイムアウト/リトライ/コスト制御（RAG側：レート/タイムアウト/再試行）

### PR5. 発音処理の一本化と品質向上（WordPack連携）
- [x] 実装の所在を `src/backend/pronunciation.py` に統一
- [x] cmudict / g2p-en の導入・辞書キャッシュ・例外辞書の運用
- [x] フォールバック規則の品質担保、タイムアウト/例外処理
- [x] `pronunciation_enabled` と再生成スコープの反映を保証

### PR6. WordPack 永続化と運用
- [x] インメモリ保存からSQLite永続化へ移行
- [x] WordPack一覧/詳細/削除の履歴を整備（MVPは単一ユーザーで完結）
- [x] 同時実行安全性（WAL + トランザクション）と初期化/移行手順（自動シード）

### PR7. テスト強化（統合/E2E/負荷）
- [x] LangGraph/Chroma スタブ依存から統合テストへ移行
- [x] フロント→バックのE2Eテストと異常系（タイムアウト/部分失敗）
- [x] 負荷テスト/プロンプト回帰テスト/カバレッジゲートの設定

### PR8. ドキュメント/運用メタ（最終）
- [x] 発音の所在/表記（`app/` vs `src/backend/`）の整合
- [x] 「MVP/ダミー」注記の更新と用語統一


