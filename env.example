# Backend settings
ENVIRONMENT=development
STRICT_MODE=true

# Google OAuth
# 例: 12345-abcdefgh.apps.googleusercontent.com（Google Cloud Console で発行した Web クライアント ID）
GOOGLE_CLIENT_ID=
# Optional: Restrict sign-in to Google Workspace domain (example.com)
# GOOGLE_ALLOWED_HD=
# Optional: Restrict sign-in to specific email addresses (comma separated)
# ADMIN_EMAIL_ALLOWLIST=admin@example.com,owner@example.com
# Optional: Allow small clock skew when verifying Google ID tokens (seconds)
# GOOGLE_CLOCK_SKEW_SECONDS=60

# Session cookie (set strong secrets in production)
# Use a cryptographically strong random string with >=32 characters
SESSION_SECRET_KEY=Qv6G5zH1pN8wX4rT7yL2mC9dF0sJ3kV5bR1nP7tW4qY8uZ6
SESSION_COOKIE_NAME=wp_session
# SESSION_COOKIE_SECURE=true
# SESSION_MAX_AGE_SECONDS=1209600

# LLM providers: openai | local
LLM_PROVIDER=openai
LLM_MODEL=gpt-4o-mini
LLM_TIMEOUT_MS=45000
LLM_MAX_RETRIES=1
# WordPack は複数セクションのJSONを返すため、途中切れ防止に十分な値を推奨
# 生成が途中で途切れて「例文が空」になる場合は 1200–1800 に増やしてください
LLM_MAX_TOKENS=1500

# Embeddings
EMBEDDING_PROVIDER=openai
EMBEDDING_MODEL=text-embedding-3-small

# OpenAI
OPENAI_API_KEY=



# Chroma (optional local persistence directory)
CHROMA_PERSIST_DIR=.chroma
# CHROMA_SERVER_URL=

# Auto seed on startup
AUTO_SEED_ON_STARTUP=true
# Optional JSONL paths (uncomment to seed from files)
# AUTO_SEED_WORD_JSONL=path/to/word_snippets.jsonl
# AUTO_SEED_TERMS_JSONL=path/to/domain_terms.jsonl

# Persistence
WORDPACK_DB_PATH=.data/wordpack.sqlite3

# Operations/Observability (PR4)
# Per-IP / Per-User API rate limits (requests per minute)
RATE_LIMIT_PER_MIN_IP=240
RATE_LIMIT_PER_MIN_USER=240
# Security headers
# HSTS の max-age（秒）。HTTPS 運用では 1年以上 (63072000) を推奨。
SECURITY_HSTS_MAX_AGE_SECONDS=63072000
# includeSubDomains や preload を付与したくない場合は false に切り替え。
# SECURITY_HSTS_INCLUDE_SUBDOMAINS=true
# SECURITY_HSTS_PRELOAD=false
# Content-Security-Policy の default-src / connect-src をカンマ区切りで指定。
# 例: "'self',https://cdn.example.com"（引用符を含めて記述）
# SECURITY_CSP_DEFAULT_SRC='self'
# SECURITY_CSP_CONNECT_SRC='self'
# Optional: Enable Sentry by setting DSN
# SENTRY_DSN=

# CORS
# 許可するオリジンをカンマ区切りで指定（例: https://app.example.com,https://admin.example.com）
# 未設定の場合はワイルドカード（資格情報非許可）が適用されます
# CORS_ALLOWED_ORIGINS=

# Langfuse (optional)
# Enable and configure to send traces/metrics to Langfuse
LANGFUSE_ENABLED=false
# LANGFUSE_PUBLIC_KEY=
# LANGFUSE_SECRET_KEY=
# LANGFUSE_HOST=https://cloud.langfuse.com
# LANGFUSE_RELEASE=wordpack-api@0.3.0
# If you need to debug prompt issues, enable full prompt logging to Langfuse
# CAUTION: This may include sensitive content. Keep disabled in production unless required.
# LANGFUSE_LOG_FULL_PROMPT=false
# LANGFUSE_PROMPT_MAX_CHARS=40000
